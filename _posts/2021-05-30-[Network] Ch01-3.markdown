---
layout: post
title: "[Network] Ch01. 네트워크 소개 - 3. OSI 7 Layer 모델"
date: 2021-05-30 14:57:23 +0900
category: network
---

<br/>
<br/>

# Ch01. 네트워크 소개

# 3. OSI 7 Layer 모델

## ▶ OSI 7 Layer?

- 정의
    - 네트워크 프로토콜과 통신을 7계층으로 표현한 것
- 목적
    - 프로토콜을 기능별로 나누고 계층별로 구분하기 위해
    - 벤더 (제조업체)간 호환성을 위한 표준 필요 → 쉬운 접근성으로 기술의 발전
- 역사
    - 1970년대 초 네트워크는 정부 또는 특정 벤더에서 독점 개발, 공개형 모델 필요
    - 1970년대 말 ISO(국제 표준화 기구)에 의해 관리
    - 1984년 ISO 7498 릴리즈

## ▶ OSI 7 Layer 모델

<img src="./img/Network/7.jpeg" width="600px">

</br>
</br>

## ▶ 각 계층별 기능

### 1계층 - Physical 물리계층

- 기능
    - 장치와 통신 매체 사이의 비정형 데이터의 전송을 담당
    - 디지털 bit (0,1)를 전기, 무선 또는 광 신호로 변환
    - 하드웨어에서의 전송하게 될 방법, 제어 신호, 기계적 속성 등을 정의 (기계와 가까운 속성들)
- 예시
    - 케이블, 인터페이스, 허브, 리피터, USB 등이 이에 속함

        *허브 - 단순히 연결하고 데이터가 단순히 왔다 갔다 수준의 장비, 최근에 많이 사용X

        <img src="./img/Network/8.png" width="600px">


### 2계층 - Data Link

- 기능
    - 동일 네트워크 내에서 데이터 전송, 링크를 통해서 연결을 설정하고 관리
    - 물리계층에서 발생할 수 있는 오류를 감지하고 수정 (전기신호, 광신호 등에서)
    - IEEE 802에 정의되어있음
        - MAC (Media Access Control) : 맥 어드레스 - 각각의 장비가 통신하기 위한 각각 장비의 고유 일련번호
        - LLC (Logical Link Control)
- 예시
    - 모뎀, 스위치(소규모 집단의 회사나 팀단위 장비)

      <img src="./img/Network/9.png" width="600px">


### 3계층 - Network

- 기능
    - 기존의 2계층에서는 동일 계층에서만 통신할 수 있었지만, 3계층은 더 큰 범위의 통신
    - 다른 네트워크로 데이터 전송
    - **IP (Internet Protocol) 주소**로 통신

    - 출발지IP에서 목적지IP로 데이터 통신 시 중간에 라우팅 처리

        *라우팅 - 중간 경유

    - 데이터가 큰 경우 **패킷** 분할 및 전송 후 목적지에서 재조립하여 메시지 구현
    - **IP통신**과 **라우팅**
- 예시
    - L3스위치, 라우터

      <img src="./img/Network/10.png" width="600px">


### 4계층 - Transport

- 기능
    - 여기부터는 하드웨어 아닌 소프트웨어 레벨
    - 호스트(PC) 간의 데이터(서비스) 전송
    - IP통신 이후 서비스(웹서비스냐 DNS냐 메일이냐 등등)..를 포트로 정의해줌
    - 하위 단계에서는 못했던 오류 복구 및 흐름 제어
    - 완벽한 데이터 전송을 보장함 (TCP를 통해)
    - TCP/UDP

      <img src="./img/Network/11.png" width="600px">
    
      <img src="./img/Network/12.png" width="600px">

    - Port를 제어한다는 의미로 L4로드 밸런서라는 장비가 있다. (로드를밸런싱)

        <img src="./img/Network/13.png" width="300px">


### 5계층 - Session

- 기능
    - 로컬간 통신 및 로컬-원격애플리케이션 간의 IP와 Port 연결을 관리해주는 단계 (3단계의 IP통신, 4단계의 Port통신을 Table화해서 관리)
    - 그것이 **Session Table**

      <img src="./img/Network/14.jpeg" width="600px">


### 6계층 - Presentation 표현계층

- 기능
    - 사용자 프로그램과 네트워크 *하드웨어* 형식간에 데이터를 변환하여 표현과 독립성을 제공
    - 인코딩, 디코딩, 암호화, 압축
    - 기계가 이해할 수 있는 데이터 ↔ 사람이 이해할 수 있는 데이터 간의 변환
- 예시
    - ASCII, JPG, MPEG

### 7계층 - Application

- 기능
    - 사용자와 가장 밀접한 소프트웨어
- 예시
    - 이메일 서비스 (SMTP) 또는 파일전송 (FTP) 등

## ▶ 정리

- OSI 7계층은 네트워크 프로토콜과 통신을 7계층으로 표현한 표준 모델
- 벤더 간 호환성을 위해 표준 제정 → 기술의 발전
- 1970년대 말 ISO(국제표준화기구)에 의해 관리되었고, 1984년에 ISO7498 릴리즈
- OSI 7계층 설명







- 4. TCP-IP Suite 비교와 캡슐화

## ▶ TCP/IP란?

- 정의
    - 네트워크 프로토콜의 모음으로, 패킷 통신 방식의 **IP**와 전송 조절 프로토콜인 **TCP**로 이루어져 있다.
- 역사
    - 1960년대 방위 고등연구계획국(DARPA)이 연구
    - 1990년대 네트워크 표준이 ISO 모델과 TCP/IP모델로 좁혀짐
    - 1990년대 말 TCP/IP모델이 자주 쓰이면서 가장 일반적인 모델이 됨

    ![Ch01%20%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%E1%85%AF%E1%84%8F%E1%85%B3%20%E1%84%89%E1%85%A9%E1%84%80%E1%85%A2%2069311369a9a74c16a98df56de36c9082/Untitled%208.png](Ch01%20%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%E1%85%AF%E1%84%8F%E1%85%B3%20%E1%84%89%E1%85%A9%E1%84%80%E1%85%A2%2069311369a9a74c16a98df56de36c9082/Untitled%208.png)

## ▶ TCP/IP 모델

![Ch01%20%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%E1%85%AF%E1%84%8F%E1%85%B3%20%E1%84%89%E1%85%A9%E1%84%80%E1%85%A2%2069311369a9a74c16a98df56de36c9082/ABD6170F-DE6A-43C8-9A55-98559CB81969.jpeg](Ch01%20%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%E1%85%AF%E1%84%8F%E1%85%B3%20%E1%84%89%E1%85%A9%E1%84%80%E1%85%A2%2069311369a9a74c16a98df56de36c9082/ABD6170F-DE6A-43C8-9A55-98559CB81969.jpeg)

## ▶ TCP/IP와 OSI 7계층 비교

![Ch01%20%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%E1%85%AF%E1%84%8F%E1%85%B3%20%E1%84%89%E1%85%A9%E1%84%80%E1%85%A2%2069311369a9a74c16a98df56de36c9082/FF4E2818-A4EA-4607-BFE0-511FBB6D0A81.jpeg](Ch01%20%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%E1%85%AF%E1%84%8F%E1%85%B3%20%E1%84%89%E1%85%A9%E1%84%80%E1%85%A2%2069311369a9a74c16a98df56de36c9082/FF4E2818-A4EA-4607-BFE0-511FBB6D0A81.jpeg)

## ▶ 캡슐화

- **인캡슐레이션**
    - 하나하나씩 데이터를 캡슐화하고 헤더를 붙이는 단계

    ![Ch01%20%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%E1%85%AF%E1%84%8F%E1%85%B3%20%E1%84%89%E1%85%A9%E1%84%80%E1%85%A2%2069311369a9a74c16a98df56de36c9082/Untitled%209.png](Ch01%20%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%E1%85%AF%E1%84%8F%E1%85%B3%20%E1%84%89%E1%85%A9%E1%84%80%E1%85%A2%2069311369a9a74c16a98df56de36c9082/Untitled%209.png)

    - 과정
        1. 사용자가 컴퓨터에 접속해서 어떤 데이터를 상대 데이터에 송신을 한다. 
        2. Applicatin, Presentation계층에는 Host Data, 사람에 가까운 데이터
        3. Session 계층에서 컴퓨터가 이해할 수 있는 일련의 데이터로 표현된다
        4. Transport 계층
            - 데이터를 보통 Segment라고 부름
            - '너가 보내는 데이터가 어떤 포트를 사용하는데?' 에 대한 정보!
            → TCP Header에 우리가 보내는 데이터에 어떤 서비스를 쓰는 지 지정.
            - 그럼 그 지정된 포트를 보고 그 데이터를 그 포트를 통해서 Network 계층으로 내려간다
        5. Network 계층
            - 데이터를 Packet이라고 부름
            - 전달된 데이터는 '어떤 목적지 IP에 보낼거야?' 에 대한 정보!
            →어디 IP주소로 보낼 것인 지 기존 데이터를 뭉뚱그려서 하나로 인캡슐레이션해서 IP Header를 붙여서 다음 계층으로 보낸다. (나는 ~~IP로 데이터를 보낼거야)
        6. Data Link 계층
            - 데이터를 Frame이라고 부름
            - MAC address (각 네트워크 장비의 물리적 고유번호)의 정보가 들어가있는 헤더 `MAC LLC header`를 붙이고
            - 추가로 오류검출을 위한 FCS트레이를 붙임
        7. Physical 계층
            - 데이터를 bit라고 부름 (0, 1)
            - 전기신호로 변형 (Signal)
- **디캡슐레이션**
    - 하나하나씩 떼어내어 필요없는 정보(헤더) detach하는 단계

    ![Ch01%20%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%E1%85%AF%E1%84%8F%E1%85%B3%20%E1%84%89%E1%85%A9%E1%84%80%E1%85%A2%2069311369a9a74c16a98df56de36c9082/Untitled%2010.png](Ch01%20%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%E1%85%AF%E1%84%8F%E1%85%B3%20%E1%84%89%E1%85%A9%E1%84%80%E1%85%A2%2069311369a9a74c16a98df56de36c9082/Untitled%2010.png)

    - 과정
        1. Physical 
            - bit(signal)이 물리적인 장비를 통해서 들어온다
        2. Data Link
            - MAC 헤더의 MAC 주소를 보고 가야할 하드웨어 (LAN 어댑터)쪽으로 전달
        3. Network
            - 기존의 MAC 헤더는 필요없으니까 버리고(detach)
            - IP header의 IP정보를 보고 찾아간 정보로 다음계층 올라감
        4. Transport
            - 여기부터 컴퓨터가 되겠지
            - TCP헤더에서 어떤 포트를 사용하는 지에 대한 정보를 보고, 포트를 정의해준다.
            - (IP header detach)
        5. Session
            - 세션테이블로 데이터가 형성되고
            - (TCP header detach)
        6. Presentation, Application (Host Datya)
            - 사용자가 볼 수 있는 데이터로 표현되어 넘어간다.
        7. 컴퓨터
            - 사용자PC로 수신됨

## ▶ 정리

- TCP/IP 모델은 패킷 통신 방식의 IP와 전송 조절 프로토콜인 TCP로 이루어져 있다
- 1960년대 말 개발되어 1990년대 말 네트워크 통신의 일반적인 모델이 됨
- TCP/IP와 OSI 7계층 비교 - 각각의 계층에 맞는 프로토콜과 서비스가 있다
- 모든 네트워크 통신은 캡슐화(인캡슐레이션, 디캡슐레이션)를 통해 이뤄진다.