---
layout: post
title: "[Web] Webê°œë°œí™˜ê²½ ì„¤ì •"
date: 2022-02-15 23:59:00 +0900
category: web
---
# Apache Tomcat

- **ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜**ì„ ì‹¤í–‰í•˜ê¸° ìœ„í•´ì„œëŠ” **WAS**ê°€ í•„ìš”í•˜ê³ , ê·¸ ì¤‘ í•˜ë‚˜ê°€ Apache Tomcatì´ë‹¤.
- ê°€ì¥ ë§ì´ ì‚¬ìš©ë˜ëŠ” WAS(Web Application Server)ë¡œ, ë¬´ë£Œì´ë‹¤.
- ì»´í“¨í„°ì— OSë¥¼ ì„¤ì¹˜í•´ì•¼ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê²ƒì²˜ëŸ¼, **ìë°”ë¡œ ì‘ì„±ëœ ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì€ WASê°€ ìˆì–´ì•¼**ë§Œ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.

## ì„¤ì¹˜

- brewë¡œ ì„¤ì¹˜ (ë²„ì „ 8)
    - `brew install tomcat@8`
    
    ```
    Configuration files: /opt/homebrew/etc/tomcat@8
    
    tomcat@8 is keg-only, which means it was not symlinked into /opt/homebrew,
    because this is an alternate version of another formula.
    
    If you need to have tomcat@8 first in your PATH, run:
      echo 'export PATH="/opt/homebrew/opt/tomcat@8/bin:$PATH"' >> ~/.zshrc
    
    To restart tomcat@8 after an upgrade:
      brew services restart tomcat@8
    Or, if you don't want/need a background service you can just run:
      /opt/homebrew/opt/tomcat@8/bin/catalina run
    ```
    
- .sh ì‹¤í–‰ê¶Œí•œì„¤ì • (/opt/homebrew/opt/tomcat@8/bin/*.sh)
    - `chmod +x /opt/homebrew/opt/tomcat@8/bin/*.sh`
    - ë‚˜ëŠ” bin ë””ë ‰í† ë¦¬ ì•ˆì— catalinaë°–ì— ì—†ìŒ ğŸ¤”.. ì´ë¯¸ ì‹¤í–‰ê¶Œí™˜ 3xë¼ íŒ¨ìŠ¤

## ì‹¤í–‰

- ëª…ë ¹
    - `./catalina [ëª…ë ¹]`
        
        ```
        commands:
          debug             Start Catalina in a debugger
          debug -security   Debug Catalina with a security manager
          jpda start        Start Catalina under JPDA debugger
          run               Start Catalina in the current window
          run -security     Start in the current window with security manager
          start             Start Catalina in a separate window
          start -security   Start in a separate window with security manager
          stop              Stop Catalina, waiting up to 5 seconds for the process to end
          stop n            Stop Catalina, waiting up to n seconds for the process to end
          stop -force       Stop Catalina, wait up to 5 seconds and then use kill -KILL if still running
          stop n -force     Stop Catalina, wait up to n seconds and then use kill -KILL if still running
          configtest        Run a basic syntax check on server.xml - check exit code for result
          version           What version of tomcat are you running?
        Note: Waiting for the process to end and use of the -force option require that $CATALINA_PID is defined
        ```
        
- ì‹œì‘
    - `./catalina start`
    - í˜¹ì€ cmd `catalina start`
        - path ì„¤ì •í•´ì£¼ê¸°
            - `export PATH=/opt/homebrew/opt/tomcat@8/bin:$PATH`
    - [`http://localhost:8080/`](http://localhost:8080/) ë¡œ ì ‘ì†í•˜ë©´, í†°ìº£ ê¸°ë³¸í™”ë©´ì´ ëœ° ê²ƒ!
    - 8080í¬íŠ¸ê°€ ì—´ë¦° ê²ƒì´ë‹¤. ì„œë²„ ì‘ë™!

# ì„œë¸”ë¦¿ ì»´íŒŒì¼ ë° ì‹¤í–‰

## ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡œì íŠ¸ ìƒì„±

ì´í´ë¦½ìŠ¤ ê¸°ë°˜ ê°•ì˜ë¼... ì¡°ê¸ˆ í—¤ë©”ë©° ì°¾ì•„ê°€ëŠ” ì¤‘

### ëª¨ë“ˆ ìƒì„± (í”„ë¡œì íŠ¸ ìƒì„±)

- Moduleì´ ì´í´ë¦½ìŠ¤ì˜ í”„ë¡œì íŠ¸ì¸ë“¯. ëª¨ë“ˆ ìƒì„±, ë³„ë‹¤ë¥¸ ì˜µì…˜ x
- ëª¨ë“ˆ ìš°í´ë¦­ â†’ add Framework Support
- Web Application í´ë¦­ (xmlíŒŒì¼ì€ ì„ íƒ)
    - ì—¬ê¸°ê¹Œì§€ í•˜ë©´ ê¸°ë³¸ì ì¸ ì›¹ í”„ë¡œì íŠ¸ì˜ êµ¬ì¡°ê°€ ì™„ì„±ëœë‹¤.
    - ì´í´ë¦½ìŠ¤ì˜ WebContent webí´ë”!

### í†°ìº£ ì„œë²„ ì„¤ì •

- ì˜¤ë¥¸ìª½ ìƒë‹¨ì— Add Configuration í´ë¦­
- ì™¼ìª½ ìƒë‹¨ + ì•„ì´ì½˜ â†’ Tomcat â†’ Local ì„ íƒ
- cofíŒŒì¼ ì°¾ì•„ì„œ ì—°ê²°í•´ì£¼ê¸° (ìë™ìœ¼ë¡œ ì—°ê²°ì´ ì•ˆë˜ë©´ ì†ìˆ˜ ì…ë ¥í•´ì£¼ë©´ ëœë‹¤)
    - ë‚´ ê²½ë¡œ: `/opt/homebrew/opt/tomcat@8/libexec/conf`
- ë°‘ì— Warning ì˜¤ë¥¸ìª½ì— Fix ëˆŒëŸ¬ì„œ Deploymentì— ì¶”ê°€í•œ í›„ Applyâ†’OK

ref- **[[Intellij] Servlet í”„ë¡œì íŠ¸ ìƒì„±í•˜ê¸°(JSP, Web Dynamic Project ìƒì„±)](https://suyeonchoi.tistory.com/m/33)**

# HelloWorld ì„œë¸”ë¦¿ ì»´íŒŒì¼ ë° ì‹¤í–‰

## ëª©í‘œ

- `[http://localhost:8080/firstweb/HelloServlet](http://localhost:8080/firstweb/HelloServlet)` ì„ ë¸Œë¼ìš°ì €ì— ìš”ì²­í•˜ë©´, Hello Servlet ìœ¼ë¡œ ì‘ë‹µí•´ì£¼ëŠ” ì„œë¸”ë¦¿ íŒŒì¼ ë§Œë“¤ê¸°

## Intellijì—ì„œ ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ ë§Œë“¤ê¸°

- [ref](https://zer0lab.tistory.com/13)
- project ìƒì„±í•  ë•Œ, Java Enterprise â†’ Web application ì„ íƒí•˜ê¸°!
(ê·¸ë˜ì•¼ ì„œë¸”ë¦¿ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤)
    
    ![image](https://user-images.githubusercontent.com/75327385/154581264-fcd59075-c33e-43dd-b227-e6b5f0e1faab.png)

    

## ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì— ì„œë¸”ë¦¿ì„ ë“±ë¡í•˜ê¸°

### ì„œë¸”ë¦¿ì´ë€?

- URL ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” í”„ë¡œê·¸ë¨ì´ë‹¤.

### ì•„ë˜ ê·œì¹™ê³¼ ê°™ì€ URLë¡œ ì„œë¸”ë¦¿ì„ ì‹¤í–‰í•œë‹¤.

`http://localhost:8080/{í”„ë¡œì íŠ¸ì´ë¦„}/{URL_MAPPINGê°’}`

- `http` : í”„ë¡œí† ì½œ
- `localhost` : IPë‚˜ ì„œë²„ ë„ë©”ì¸
- `8080` : í¬íŠ¸ ë²ˆí˜¸

### doGet

- ì›¹ë¸Œë¼ìš°ì €ê°€ httpí”„ë¡œí† ì½œì—ì„œ getë©”ì„œë“œë¡œ ìš”ì²­ì„ ë³´ë‚¼ ë•Œ, ì„œë¸”ë¦¿ì˜ doGet ë©”ì„œë“œê°€ í˜¸ì¶œì´ ëœë‹¤. (*get: ì›¹ ë¸Œë¼ìš°ì €ê°€ ì„œë²„ì—ê²Œ ë¬¸ì„œë¥¼ ìš”ì²­í•  ë•Œ ë°©ì‹)
    
    ```java
    public void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {
            response.setContentType("text/html;charset=UTF=8");
            PrintWriter out = response.getWriter();
            out.println("<html><body>");
            out.println("<h1>" + message + "</h1>");
            out.println("</body></html>");
        }
    ```
    

### response ê°ì²´

- ì‘ë‹µí•  ë‚´ìš©ë“¤ì„ ëª¨ì•„ì„œ ì¶”ìƒí™”í•´ë†“ì€ ê°ì²´
- `response.setContentType("text/html;charset=UTF=8");`

## ì‹¤í–‰

- firstweb_war_exploded ìœ¼ë¡œ ë  ë•Œ?
- â†’ Edit configurationíƒ­ ë‹¤ì‹œ ë“¤ì–´ê°€ì„œ Tomcat â†’ deployment â†’ war_explodedë¥¼ warë¡œ ë°”ê¿”ì¤€ë‹¤, ë°‘ì— url ì›í•˜ëŠ” ëŒ€ë¡œ ì„¤ì •